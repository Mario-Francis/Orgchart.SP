<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Approvals</title>

    <style>
    .modal { overflow: auto !important; }
    </style>
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.3/css/selectize.bootstrap4.css">
    <!-- DataTables -->
    <link rel="stylesheet" href="plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" href="plugins/datatables-buttons/css/buttons.bootstrap4.min.css">


    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css"> <!-- overlayScrollbars -->
    <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/adminlte.css">
    <!-- Custom Css -->
    <link rel="stylesheet" href="dist/css/custom.css">

</head>

<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">
    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>
                <li class="nav-item mt-2">
                    <h5>Manage Approvals</h5>
                </li>

            </ul>

        </nav>
        <!-- /.navbar -->

        <!-- Main Sidebar Container -->
        <aside class="main-sidebar bg-dmv elevation-4">
            <!-- Brand Logo -->
            <a href="orgchart.aspx" class="brand-link d-flex justify-content-center bg-white">
                <img src="dist/img/dmv-blue.svg" class="brand-image" style="opacity: .8">
            </a>

            <!-- Sidebar -->
            <div class="sidebar">

                <!-- Sidebar Menu -->
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu"
                        data-accordion="false">
                        <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
                        <ul class="nav nav-treeview d-block bg-dmv-subtext">
                                <li class="nav-item">
                                    <a href="orgchart.aspx" class="nav-link text-white text-white">
                                        <i class="fa fa-tachometer-alt nav-icon"></i>
                                        <p class="ml-2">Dashboard</p>
                                    </a>
                                </li>

                                <li class="nav-item mgrmenu">
                                    <a href="transfer.aspx" class="nav-link text-white text-white">
                                        <i class="far fa-paper-plane nav-icon bg-dmv-subtext "></i>
                                        <p>Manage Transfer</p>
                                    </a>
                                </li>

                                 <li class="nav-item active">
                                    <a href="approvals.aspx" class="nav-link text-white text-white">
                                        <i class="far fa-check-circle nav-icon bg-dmv-subtext "></i>
                                        <p>Manage Approvals</p>
                                    </a>
                                </li>

                               

                            </ul>

                    </ul>
                    </li>

                    </ul>
                </nav>
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content py-4">
                <div class="container-fluid">

                    <div class="row mb-5">
                         <!-- ./col -->

                        <div class="col-lg-3 col-4">
                            <!-- Outgoing requests -->
                            <div class="small-box bg-dmv text-white approval-cards" id="outgoing-card">
                                <div class="inner">
                                    <h3><i class="far fa-arrow-alt-circle-up" aria-hidden="true"></i> <span
                                            id="outgoingTotal"></span></h3>

                                    <p>Outgoing Request</p>
                                </div>

                            </div>
                        </div>


                        <div class="col-lg-3 col-4 mgrmenu">
                            <!-- Pending approval -->
                            <div class="small-box bg-warning approval-cards" id="pending-approval-card">
                                <div class="inner">
                                    <h3><i class="far fa-arrow-alt-circle-down" aria-hidden="true"></i> <span
                                            id="pendingApprovalTotal"></span></h3>

                                    <p> Pending Approval</p>
                                </div>

                            </div>
                        </div>
                       
                        <!-- ./col -->

                        <div class="col-lg-3 col-4 mgrmenu">
                            <!-- Pending acceptance -->
                            <div class="small-box bg-danger approval-cards" id="pending-acceptance-card">
                                <div class="inner">
                                    <h3><i class="far fa-arrow-alt-circle-down" aria-hidden="true"></i> <span
                                            id="pendingAcceptanceTotal"></span></h3>

                                    <p>Pending Acceptance</p>
                                </div>

                            </div>
                        </div>

                     

                    </div>

                    <!-- Start Tabs-->

                    <nav>
                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                             <a class="nav-link active" id="nav-outgoing-tab" data-toggle="tab" href="#nav-outgoing" role="tab"
                                aria-controls="nav-outgoing" aria-selected="false">Outgoing Request</a>

                            <a class="nav-link" id="nav-outgoing-profile-tab" data-toggle="tab" href="#nav-outgoing-profile" role="tab"
                                aria-controls="nav-outgoing-profile" aria-selected="false">Outgoing Profile Request</a>

                            <a class="nav-link mgrmenu" id="pending-approval-tab" data-toggle="tab" href="#pending-approval"
                                role="tab" aria-controls="pending-approval" aria-selected="true">Pending Approval</a>
                           

                            <a class="nav-link mgrmenu" id="pending-acceptance-tab" data-toggle="tab" href="#pending-acceptance" role="tab"
                                aria-controls="pending-acceptance" aria-selected="false">Pending Acceptance</a>

                            <a class="nav-link mgrmenu" id="pending-profile-approval-tab" data-toggle="tab" href="#pending-profile-approval" role="tab"
                                aria-controls="pending-profile-approval" aria-selected="false">Pending Profile Approval</a>

                        </div>
                    </nav>
                    <div class="tab-content py-4" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-outgoing" role="tabpanel"
                            aria-labelledby="nav-outgoing-tab">
                            <div class="table-responsive">
                            <table class="table table-bordered table-striped" id="outgoing-table"
                                style="width:100% !important">
                                <thead>
                                    <tr>
                                        <th style="min-width:80px;">Action</th>
                                        <th>Status</th>
                                        <th>Requested For</th>
                                        <th>Request Sent To</th>
                                        <th>New Manager</th>
                                        <th>Last Updated</th>

                                    </tr>
                                </thead>

                                <tbody>

                                </tbody>
                            </table>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-outgoing-profile" role="tabpanel"
                            aria-labelledby="nav-outgoing-profile-tab">
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped" id="outgoing-profile-table" style="width:100% !important">
                                    <thead>
                                        <tr class="px-1">
                                            <th style="min-width:60px;">Action</th>
                                            <th>Status</th>
                                            <th>Request Sent To</th>
                                            <th>Request Date</th>

                                        </tr>
                                    </thead>

                                    <tbody>

                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="pending-approval mgrmenu" role="tabpanel"
                            aria-labelledby="pending-approval-tab">
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped" id="pending-approval-table" style="width:100% !important">
                                    <thead>
                                        <tr class="px-1">
                                            <th style="min-width:60px;">Action</th>
                                            <th>Status</th>
                                            <th>Requested For</th>
                                            <th>Request From</th>
                                            <th>Last Updated</th>

                                        </tr>
                                    </thead>

                                    <tbody>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        

                         <div class="tab-pane fade mgrmenu" id="pending-acceptance" role="tabpanel"
                            aria-labelledby="pending-acceptance-tab">
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped" id="pending-acceptance-table" style="width:100% !important">
                                    <thead>
                                        <tr class="px-1">
                                            <th style="min-width:70px;">Action</th>
                                            <th>Status</th>
                                            <th>Requested For</th>
                                            <th>Request From</th>
                                            <th>Approved By</th>
                                            <th>Last Updated</th>

                                        </tr>
                                    </thead>

                                    <tbody>

                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>

                    <!-- End Tabs-->

                </div>
            </section>

        </div>
<footer class="main-footer">
        <div class="float-right d-none d-sm-block">
            <!-- <b>Version</b> 3.2.0-rc -->
        </div>
        <strong>Copyright &copy; 2021 <a href="">Departments of Motor Vehicle</a>.</strong> All rights reserved.
    </footer>
    </div>
    <!-- wrapper -->

    <!-- jQuery -->
    <script src="plugins/jquery/jquery.min.js"></script>

     <!--Config File-->
    <script src="dist/js/_config.js"></script>

    
    <!-- Bootstrap 4 -->
    <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="./dist/js/bootbox.min.js"></script>
    <script src="./dist/js/notify.js"></script>


    <!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="dist/js/adminlte.min.js"></script>

    <script>
        var _checkMgr;
        $(async function () {
            await checkIfManager();
            await loadOutgoingRequests();
      
            await loadPendingApprovals();
            await loadPendingAcceptance();


        })
    </script>

    <!-- DataTables  & Plugins -->
    <script src="plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="plugins/jszip/jszip.min.js"></script>
    <script src="plugins/pdfmake/pdfmake.min.js"></script>
    <script src="plugins/pdfmake/vfs_fonts.js"></script>
    <script src="plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

    <script>
        //load outgoing requests
        function loadOutgoingRequests() {

            if (DataTable.isDataTable("#outgoing-table")) {
                $('#outgoing-table').DataTable().destroy();
            }


            try {
                var loader = bootLoaderDialog('Loading requests...');
                $.ajax({
                    url: `${c._endpointDomain}/api/employees/${_loggedInEmail}/approvalitems/initiated`,
                    contentType: "application/json",
                    dataType: 'json',
                    success: function (result) {


                        _outgoingTotal = result.data.length;
                        $('#outgoingTotal').html(_outgoingTotal);

                        $('#outgoing-table').DataTable({
                            data: result.data,


                            "aoColumns": [
                                {
                                "mData": "id",
                                "render": function (data, type, row, meta) {
                                    return (
                                        `<a class="btn btn-danger btn-sm" title="Cancel" _listid=${data} id="btn-cancel"><i class="fa fa-times-circle" aria-hidden="true"></i> Cancel </a>`
                                    );
                                }
                            },
                                {
                                    "mData": "approvalStatus",
                                    "render": function (data, type, row, meta) {
                                        return data == null ? '' : data;
                                    }
                                },

                                {
                                    "mData": "employeeName",
                                    "render": function (data, type, row, meta) {
                                        return data == null ? '' : `<span title="${row.employeeEmail}">${data}</span`;
                                    }
                                },

                                {
                                    "mData": "managerName",
                                    "render": function (data, type, row, meta) {
                                        return data == null ? '' : `<span title="${row.managerEmail}">${data}</span`;
                                    }
                                },
                                {
                                    "mData": "toManagerName",
                                    "render": function (data, type, row, meta) {
                                        return data == null ? '' : `<span title="${row.toManagerEmail}">${data}</span`;
                                    }
                                },
                                {
                                    "mData": "modified",
                                    "render": function (data, type, row, meta) {
                                        return data == null ? '' : data;
                                    }
                                }

                            ]
                        });
                        loader.hide();
                    }
                });
            } catch (err) {
                loader.hide();
                toastr.error('Something went wrong! Please try again.').delay(3500).fadeOut(500);
            }
        }




    //Load approval requests pending current manager of employee
        function loadPendingApprovals() {
             if (DataTable.isDataTable("#pending-approval-table")) {
                $('#pending-approval-table').DataTable().destroy();
            }

            $.ajax({
                url: `${c._endpointDomain}/api/employees/${_loggedInEmail}/approvalitems/pendingaction`,
                contentType: "application/json",

                dataType: 'json',
                success: function (result) {

                    _incomingTotal = result.data.length;
                    $('#pendingApprovalTotal').html(_incomingTotal);
                    $('#pending-approval-table').DataTable({
                        data: result.data,

                        "aoColumns": [
                            {
                                "mData": "id",
                                "render": function (data, type, row, meta) {
                                    return (
                                        `<a class="btn btn-success btn-sm" title="Approve" _listid=${data} id="btn-approve"><i class="fa fa-check" aria-hidden="true"></i> Approve</a>
                                <a class="btn btn-danger btn-sm" title="Reject" id="btn-reject" _listid=${data}><i class="fa fa-times" aria-hidden="true"></i> Decline</a>`
                                    );
                                }
                            },
                            {
                                "mData": "approvalStatus",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : data;
                                }
                            },

                            {
                                "mData": "employeeName",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : `<span title="${row.employeeEmail}">${data}</span`;
                                }
                            },

                            {
                                "mData": "requestorName",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : `<span title="${row.requestorEmail}">${data}</span`;
                                }
                            },

                            {
                                "mData": "modified",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : data;
                                }
                            }

                        ]
                    });
                }
            });
        }

        //Load approval requests pending acceptance of new manager of employee
        function loadPendingAcceptance() {
             if (DataTable.isDataTable("#pending-acceptance-table")) {
                $('#pending-acceptance-table').DataTable().destroy();
            }

            $.ajax({
                url: `${c._endpointDomain}/api/employees/${_loggedInEmail}/approvalitems/pendingacceptance`,
                contentType: "application/json",

                dataType: 'json',
                success: function (result) {

                    _pendingAcceptanceTotal = result.data.length;
                    $('#pendingAcceptanceTotal').html(_pendingAcceptanceTotal);
                    $('#pending-acceptance-table').DataTable({
                        data: result.data,

                        "aoColumns": [
                            {
                                "mData": "id",
                                "render": function (data, type, row, meta) {
                                    return (
                                        `<a class="btn btn-success btn-sm" title="Accept" _listid=${data} id="btn-accept"><i class="fa fa-check" aria-hidden="true"></i> Accept</a>
                                <a class="btn btn-danger btn-sm" title="Deline" id="btn-decline" _listid=${data}><i class="fa fa-times" aria-hidden="true"></i> Decline</a>`
                                    );
                                }
                            },
                            {
                                "mData": "approvalStatus",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : data;
                                }
                            },

                            {
                                "mData": "employeeName",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : `<span title="${row.employeeEmail}">${data}</span`;
                                }
                            },

                            {
                                "mData": "requestorName",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : `<span title="${row.requestorEmail}">${data}</span`;
                                }
                            },
                              {
                                    "mData": "managerName",
                                    "render": function (data, type, row, meta) {
                                        return data == null ? '' : `<span title="${row.toManagerEmail}">${data}</span`;
                                    }
                                },

                            {
                                "mData": "modified",
                                "render": function (data, type, row, meta) {
                                    return data == null ? '' : data;
                                }
                            }

                        ]
                    });
                }
            });
        }

    </script>

    <script>
        //Current manager reject Button is clicked
        $(document).on('click', '#btn-reject', (e) => {
            var _listId = $(e.currentTarget).attr('_listid');


            Swal.fire({
                title: 'Rejection Comment',
                input: 'textarea',
                showCancelButton: true,
                confirmButtonText: 'Proceed',
                inputPlaceholder: 'Comment',
                showCancelButton: true,
                inputValidator: (value) => {
                    if (!value) {
                        return 'Comment Field cannot be blank'
                    }
                }
            }).then(function (result) {
                if (result.isConfirmed) {
                   var loader = bootLoaderDialog('Declining Request...');
                    let _assignCred = {
                        "id": parseInt(_listId),
                        "comment": `${result.value}`
                    }
                    $.ajax({

                        data: JSON.stringify(_assignCred),
                        url: `${c._endpointDomain}/api/employees/declineitem`,
                        contentType: "application/json",
                        dataType: 'json',
                        type: 'POST',
                        success:async function (result) {
                            loader.hide();
                            toastr.error('Request Declined!').delay(5000).fadeOut(1000);
                            await loadOutgoingRequests();
                      
                            await loadPendingApprovals();
                            await loadPendingAcceptance();
                          
                        },

                        error:async function (err) {
                            loader.hide();
                          Swal.fire("Request Error", `${err.responseJSON.message}`, "error");
                            await loadOutgoingRequests();
                          
                            await loadPendingApprovals();
                            await loadPendingAcceptance();
                     
                        },
                    });
                }
            })

        });

        //Cancel Button for outgoing request is clicked
         $(document).on('click', '#btn-cancel', (e) => {
             var _listId = $(e.currentTarget).attr('_listid');
      Swal.fire({
                    title: 'Are you sure?',
                    text: "This would delete your request",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '##4a94d0',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, remove it!'
                }).then((result) => {
                    if (result.isConfirmed) {
                   var loader = bootLoaderDialog('Deleting Request...');
                    let _assignCred = {
                        "id": parseInt(_listId),
                    }
                    $.ajax({

                        data: JSON.stringify(_assignCred),
                        url: `${c._endpointDomain}/api/employees/cancelitem`,
                        contentType: "application/json",
                        dataType: 'json',
                        type: 'POST',
                        success:async function (result) {
                            loader.hide();
                            toastr.error('Request Deleted!').delay(5000).fadeOut(1000);
                            await loadOutgoingRequests();
                    
                            await loadPendingApprovals();
                            await loadPendingAcceptance();
                     
                        },

                        error:async function (err) {
                            loader.hide();
                           Swal.fire("Request Error", `${err.responseJSON.message}`, "error");
                           await loadOutgoingRequests();
                      
                            await loadPendingApprovals();
                            await loadPendingAcceptance();
                          
                        },
                    });
                }
                })
         });

       


//Current manager approve button is clicked
        $(document).on('click', '#btn-approve', (e) => {
            var _listId = $(e.currentTarget).attr('_listid');


            Swal.fire({
                title: 'Approval Comment',
                input: 'textarea',
                showCancelButton: true,
                confirmButtonText: 'Proceed',
                inputPlaceholder: 'Comment',
                showCancelButton: true,
            }).then(function (result) {
                if (result.isConfirmed) {
                   var loader = bootLoaderDialog('Approving Request...');
                    let _assignCred = {
                        "id": parseInt(_listId),
                        "comment": `${result.value}`
                    }
                    $.ajax({

                        data: JSON.stringify(_assignCred),
                        url: `${c._endpointDomain}/api/employees/approveitem`,
                        contentType: "application/json",
                        dataType: 'json',
                        type: 'POST',
                        success: function (result) {
                            loader.hide();
                            toastr.success('Request Approved!').delay(3000).fadeOut(5000);
                            loadPendingApprovals();
                        },

                        error: function (err) {
                            loader.hide();
                           Swal.fire("Request Error", `${err.responseJSON.message}`, "error");
                           loadPendingApprovals();
                        },
                    });
                }
            })

        });

//New manager accept button is clicked
         $(document).on('click', '#btn-accept', (e) => {
            var _listId = $(e.currentTarget).attr('_listid');


            Swal.fire({
                title: 'Acceptance Comment',
                input: 'textarea',
                showCancelButton: true,
                confirmButtonText: 'Proceed',
                inputPlaceholder: 'Comment',
                showCancelButton: true,
            }).then(function (result) {
                if (result.isConfirmed) {
                  let _loader = bootLoaderDialog('Accepting Request...');
                    let _assignCred = {
                        "id": parseInt(_listId),
                        "comment": `${result.value}`
                    }
                    $.ajax({

                        data: JSON.stringify(_assignCred),
                        url: `${c._endpointDomain}/api/employees/approveitem`,
                        contentType: "application/json",
                        dataType: 'json',
                        type: 'POST',
                        success: async function (result) {
                            _loader.hide();
                            toastr.success('Request Accepted').delay(5000).fadeOut(1000);
                           await loadPendingAcceptance();
                        },

                        error: async function (err) {
                            _loader.hide();
                          Swal.fire("Request Error", `${err.responseJSON.message}`, "error");
                          await loadPendingAcceptance();
                        },
                    });
                }
            })

        });


//New manager decline button is clicked
 $(document).on('click', '#btn-decline', (e) => {
            var _listId = $(e.currentTarget).attr('_listid');


            Swal.fire({
                title: 'Rejection Comment',
                input: 'textarea',
                showCancelButton: true,
                confirmButtonText: 'Proceed',
                inputPlaceholder: 'Comment',
                showCancelButton: true,
                 inputValidator: (value) => {
                    if (!value) {
                        return 'Comment Field cannot be blank'
                    }
                }
            }).then(function (result) {
                if (result.isConfirmed) {
                   var loader = bootLoaderDialog('Declining Request...');
                    let _assignCred = {
                        "id": parseInt(_listId),
                        "comment": `${result.value}`
                    }
                    $.ajax({

                        data: JSON.stringify(_assignCred),
                        url: `${c._endpointDomain}/api/employees/declineitem`,
                        contentType: "application/json",
                        dataType: 'json',
                        type: 'POST',
                        success: async function (result) {
                            loader.hide();
                            toastr.error('Request Declined!').delay(5000).fadeOut(1000);
                           await loadPendingAcceptance();
                        },

                        error: async function (err) {
                            loader.hide();
                          Swal.fire("Request Error", `${err.responseJSON.message}`, "error");
                          await loadPendingAcceptance();
                        },
                    });
                }
            })

        });

    

        function checkIfManager() {
            $.ajax({
                url: `${c._endpointDomain}/api/employees/${_loggedInEmail}/ExistsInGroup/${c._managerGroupID}`,
                contentType: "application/json",
                dataType: 'json',
                success: function (result) {
                    console.log("User: " + result.data);
                    _checkMgr = result.data;
                    if (!_checkMgr) {

                        $(".mgrmenu").removeClass('d-block');
                        $(".mgrmenu").addClass('d-none');
                    }


                }
            })
        }
    </script>


    <script>
        $(document).on('click', '#pending-approval-card', ()=> {
            $('#pending-approval-tab').tab('show');
        });

        $(document).on('click', '#outgoing-card', ()=> {
            $('#nav-outgoing-tab').tab('show');
        });

          $(document).on('click', '#pending-acceptance-card', ()=> {
            $('#pending-acceptance-tab').tab('show');
        });

      
        
    </script>

</body>

</html>
